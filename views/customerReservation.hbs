<!-- Citation for the following code (the entirety of this file):
Title: Node.js Starter App
Type: Full program
Date: 05/25/2023
Copied and then modified to fit our database structure:
Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app

Citation for return to top button.
Date: 6/7/2023
Type: adapted for returning to beginning of our table view
Copied for our form validation of phone numbers.
Source URL:
https://www.w3schools.com/howto/howto_js_scroll_to_top.asp
-->

<!-- customerReservation.hbs -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

 <h2>Резервации клиентов</h2>

{{!-- Secondary local navigational bar for CRUD operations--}}
<nav class="topics">
    <a href="#browse" class="topics">Посмотреть все резервации клиентов</a>
    <a href="#insert" class="topics">Добавить резервации клиентов</a>
    <a href="#update" class="topics">Обновить резервации клиентов</a>
</nav>

{{!-- Create a table --}}
<div id="browse">
 <table id="customerTable" border="1" cellpadding="5">
    {{!-- Body section --}}
    <tbody>
        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr class="customerCol">
            <th class="customerH">ID Резервации клиентов</th>
            <th class="customerH">Клиент</th>
            <th class="customerH">ID резервации</th>
            <th>Удалить</th>
        </tr>

        {{!-- For each row, print the id, fname, lname, homeworld and age, in order --}}
        {{#each customerReservationData}}
        <tr data-value={{this.customerReservationId}}>
            <td>{{this.customerReservationId}}</td>
            <td>{{this.customer}}</td>
            <td>{{this.reservationId}}</td>
            <td><button onclick="deleteCustomerReservation({{this.customerReservationId}})">Удалить</button></td>
        </tr>
        {{/each}}
    </tbody>
 </table>
</div>

<div id="reference">
  <h3>Резервации</h3>
  <table id= "customerTable" border="1" cellpadding="5">
      <tbody>
        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr class="customerCol">
            <th class="customerH">ID резервации</th>
            <th class="customerH">Агент</th>
            <th class="customerH">Начало (YYYY-MM-DD)</th>
            <th class="customerH">Конец (YYYY-MM-DD)</th>
        </tr>

        {{!-- For each row, print the id, fname, lname, homeworld and age, in order --}}
        {{#each reservationData}}
        <tr data-value={{this.reservationId}}>
            <td>{{this.reservationId}}</td>
            <td>{{this.agent}}</td>
            <td>{{this.startDate}}</td>
            <td>{{this.endDate}}</td>
        </tr>
        {{/each}}
    </tbody>
  </table>
</div> <!-- reference -->

<!-- Insert -->
<div id="insert">
        <form id="add-customerReservation-form">
            <legend><strong>Добавить резервацию клиента</strong></legend>
            <fieldset class="fields">
              <label for="customer" class="required"> Клиент </label>
              <select name="customer" required id="input-customerId">
                <option value="0">Выбрать клиента</option>
                {{#each customerData}}
                <option value="{{this.customerId}}">{{this.customer}}</option>
                {{/each}}
              </select> 
              <label for="reservationId" class="required"> ID резервации </label>
              <select name="reservationId" required id="input-reservationId">
                <option value="0">Выберите ID резервации</option>
                {{#each reservationData}}
                <option value="{{this.reservationId}}">{{this.reservationId}}</option>
                {{/each}}
               </select> 
              <caption>* поля обязательные для заполнения</caption>
              </fieldset>
              <input class="btn" type="submit" id="addCustomerReservation" value="Добавить резервацию клиента">
        </form> 
</div><!-- insert -->

{{!-- Return to Top button --}}
<button class="btn" onclick="topFunction()" id="topBtn" title="Go to top">Вернуть в верх</button>

{{!-- <!-- Update -->
<div id="update">
    <form id="update-customerReservation-form">
        <legend><strong>Обновить резервацию клиента</strong></legend>
        <fieldset class="fields">
          <label class="required">Для ID резервации клиента:</label>
          <select name="id" required id="input-customerReservationId-update">
                <option value="0">Выберите ID резервации клиента</option>
                {{#each customerReservationData}}
                <option value="{{this.customerReservationId}}">{{this.customerReservationId}}</option>
                {{/each}}
              </select> 
        <label for="customer" class="required"> Клиент </label>
          <select name="customer" required id="input-customerId-update">
                <option value="0">Выберите клиента</option>
                {{#each customerData}}
                <option id="option-{{this.customer}}" value="{{this.customerId}}">{{this.customer}}</option>
                {{/each}}
              </select> 
              <label for="reservationId" class="required"> ID резервации </label>
              <select name="reservationId" required id="input-reservationId-update">
                <option value="0">Выберите ID резервации</option>
                {{#each reservationData}}
                <option value="{{this.reservationId}}">{{this.reservationId}}</option>
                {{/each}}
               </select> 
           <caption>* поля обязательные для заполнения</caption>
          </fieldset>
          <input class="btn" type="submit" id="updateCustomerReservation" value="Update CustomerReservation">
    </form> 
</div><!-- update --> --}}

<script src="./js/add_customerReservation.js"></script>
<script src="./js/update_customerReservation.js"></script>
<script src="./js/delete_customerReservation.js"></script>
<script src="./js/top_button.js"></script>
